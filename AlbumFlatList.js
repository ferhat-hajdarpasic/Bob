import React, { Component } from "react";
import { StyleSheet, Image, View, Text, FlatList, ActivityIndicator, TouchableHighlight } from "react-native";
import { List, ListItem, SearchBar } from "react-native-elements";

import BobFlatList from './BobFlatList';
import SpotifyApi from './SpotifyApi';
let api = new SpotifyApi();

let mock_album_json = '{"album_type":"album","artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"copyrights":[{"text":"© 1997 Gasoline Alley Records Inc.","type":"C"},{"text":"℗ 1997 Gasoline Alley Records Inc.","type":"P"}],"external_ids":{"upc":"00008811179724"},"external_urls":{"spotify":"https://open.spotify.com/album/4R3tXoorBpHji6Jdms8a4Q"},"genres":[],"href":"https://api.spotify.com/v1/albums/4R3tXoorBpHji6Jdms8a4Q","id":"4R3tXoorBpHji6Jdms8a4Q","images":[{"height":634,"url":"https://i.scdn.co/image/4862a7168866cfd07a288e110f034381a2258035","width":640},{"height":297,"url":"https://i.scdn.co/image/2c1efa22b90fe73e36eefa3cc1c659ef249a3a8a","width":300},{"height":63,"url":"https://i.scdn.co/image/6fc72f831d47821a01d91a784025894b27b20008","width":64}],"label":"Universal Music Group","name":"Sublime","popularity":62,"release_date":"1996-07-30","release_date_precision":"day","tracks":{"href":"https://api.spotify.com/v1/albums/4R3tXoorBpHji6Jdms8a4Q/tracks?offset=0&limit=50","items":[{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":261750,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/2rNdokgvZAx0Gf56tbq7bW"},"href":"https://api.spotify.com/v1/tracks/2rNdokgvZAx0Gf56tbq7bW","id":"2rNdokgvZAx0Gf56tbq7bW","is_local":false,"name":"Garden Grove","preview_url":"https://p.scdn.co/mp3-preview/3cb6d3478a71d4f5e3139db3779b68e3855df9b5?cid=774b29d4f13844c495f206cafdad9c86","track_number":1,"type":"track","uri":"spotify:track:2rNdokgvZAx0Gf56tbq7bW"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":171066,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/5nkYHBWXu7KCgcdwP6jcB1"},"href":"https://api.spotify.com/v1/tracks/5nkYHBWXu7KCgcdwP6jcB1","id":"5nkYHBWXu7KCgcdwP6jcB1","is_local":false,"name":"What I Got","preview_url":"https://p.scdn.co/mp3-preview/74acce3caffbd0955a842c30970571732fa15d53?cid=774b29d4f13844c495f206cafdad9c86","track_number":2,"type":"track","uri":"spotify:track:5nkYHBWXu7KCgcdwP6jcB1"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":136400,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/5cPfmNMC3AENizySC5oPu2"},"href":"https://api.spotify.com/v1/tracks/5cPfmNMC3AENizySC5oPu2","id":"5cPfmNMC3AENizySC5oPu2","is_local":false,"name":"Wrong Way","preview_url":"https://p.scdn.co/mp3-preview/1133f1eff787134fd79796f0e7ae559cee220927?cid=774b29d4f13844c495f206cafdad9c86","track_number":3,"type":"track","uri":"spotify:track:5cPfmNMC3AENizySC5oPu2"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":155750,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/4B6dMwXS6q8pw1HBWV8Cc8"},"href":"https://api.spotify.com/v1/tracks/4B6dMwXS6q8pw1HBWV8Cc8","id":"4B6dMwXS6q8pw1HBWV8Cc8","is_local":false,"name":"Same In The End","preview_url":"https://p.scdn.co/mp3-preview/f3a07c5a6c9742cf0a718b3f9f57e5ba1db9da31?cid=774b29d4f13844c495f206cafdad9c86","track_number":4,"type":"track","uri":"spotify:track:4B6dMwXS6q8pw1HBWV8Cc8"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":233400,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/6TiUowwluPjwIusdZthgYv"},"href":"https://api.spotify.com/v1/tracks/6TiUowwluPjwIusdZthgYv","id":"6TiUowwluPjwIusdZthgYv","is_local":false,"name":"April 29, 1992 (Miami)","preview_url":"https://p.scdn.co/mp3-preview/30e73b0ff602633e348ea62c04035ca2d0891b5a?cid=774b29d4f13844c495f206cafdad9c86","track_number":5,"type":"track","uri":"spotify:track:6TiUowwluPjwIusdZthgYv"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":182500,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/2Z2vOukzwOgqR4dkymRSWd"},"href":"https://api.spotify.com/v1/tracks/2Z2vOukzwOgqR4dkymRSWd","id":"2Z2vOukzwOgqR4dkymRSWd","is_local":false,"name":"Santeria","preview_url":"https://p.scdn.co/mp3-preview/75d119620ffc70ad2268e6ae2a707b9de73ffc74?cid=774b29d4f13844c495f206cafdad9c86","track_number":6,"type":"track","uri":"spotify:track:2Z2vOukzwOgqR4dkymRSWd"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":130240,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/6vGz9D15KduwX4W2f7KX9j"},"href":"https://api.spotify.com/v1/tracks/6vGz9D15KduwX4W2f7KX9j","id":"6vGz9D15KduwX4W2f7KX9j","is_local":false,"name":"Seed","preview_url":"https://p.scdn.co/mp3-preview/11440bfb739818c6a098026cfa1baf1c4465eda2?cid=774b29d4f13844c495f206cafdad9c86","track_number":7,"type":"track","uri":"spotify:track:6vGz9D15KduwX4W2f7KX9j"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":293000,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/6s4dya6PLrPVTYkfTmzZ47"},"href":"https://api.spotify.com/v1/tracks/6s4dya6PLrPVTYkfTmzZ47","id":"6s4dya6PLrPVTYkfTmzZ47","is_local":false,"name":"Jailhouse","preview_url":"https://p.scdn.co/mp3-preview/4c870aadab6e770531749b9f0c3a83c68c3145fb?cid=774b29d4f13844c495f206cafdad9c86","track_number":8,"type":"track","uri":"spotify:track:6s4dya6PLrPVTYkfTmzZ47"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":365000,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/17hqX08GS41mq4QbRnRpVz"},"href":"https://api.spotify.com/v1/tracks/17hqX08GS41mq4QbRnRpVz","id":"17hqX08GS41mq4QbRnRpVz","is_local":false,"name":"Pawn Shop","preview_url":"https://p.scdn.co/mp3-preview/b59cd3119e5fe0a6e3a57866f5eed299f6aaa52b?cid=774b29d4f13844c495f206cafdad9c86","track_number":9,"type":"track","uri":"spotify:track:17hqX08GS41mq4QbRnRpVz"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":75360,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/7BY45SLc8OHLkTJv8TwO8z"},"href":"https://api.spotify.com/v1/tracks/7BY45SLc8OHLkTJv8TwO8z","id":"7BY45SLc8OHLkTJv8TwO8z","is_local":false,"name":"Paddle Out","preview_url":"https://p.scdn.co/mp3-preview/15ab648c7d666d55030c127692fced4d29a60181?cid=774b29d4f13844c495f206cafdad9c86","track_number":10,"type":"track","uri":"spotify:track:7BY45SLc8OHLkTJv8TwO8z"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":131400,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/03EWmbFFgOASsSZRplUDz4"},"href":"https://api.spotify.com/v1/tracks/03EWmbFFgOASsSZRplUDz4","id":"03EWmbFFgOASsSZRplUDz4","is_local":false,"name":"The Ballad Of Johnny Butt","preview_url":"https://p.scdn.co/mp3-preview/ec2d916307636b92c7e448871f606f44c4a1332d?cid=774b29d4f13844c495f206cafdad9c86","track_number":11,"type":"track","uri":"spotify:track:03EWmbFFgOASsSZRplUDz4"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":235400,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/2dkGxItBKKA24mGpdPygTS"},"href":"https://api.spotify.com/v1/tracks/2dkGxItBKKA24mGpdPygTS","id":"2dkGxItBKKA24mGpdPygTS","is_local":false,"name":"Burritos","preview_url":"https://p.scdn.co/mp3-preview/75a36d91289874b06df05f09690cddd13a822f4e?cid=774b29d4f13844c495f206cafdad9c86","track_number":12,"type":"track","uri":"spotify:track:2dkGxItBKKA24mGpdPygTS"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":205866,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/513KOUdZpwxIbXkNUkrB74"},"href":"https://api.spotify.com/v1/tracks/513KOUdZpwxIbXkNUkrB74","id":"513KOUdZpwxIbXkNUkrB74","is_local":false,"name":"Under My Voodoo","preview_url":"https://p.scdn.co/mp3-preview/b9ad1d13f9a6ecedc66df471f120603a10d715ea?cid=774b29d4f13844c495f206cafdad9c86","track_number":13,"type":"track","uri":"spotify:track:513KOUdZpwxIbXkNUkrB74"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":290000,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/2iRVtq5rnNQ6E20ljfyDCY"},"href":"https://api.spotify.com/v1/tracks/2iRVtq5rnNQ6E20ljfyDCY","id":"2iRVtq5rnNQ6E20ljfyDCY","is_local":false,"name":"Get Ready","preview_url":"https://p.scdn.co/mp3-preview/7a67d4741ae527d97c5c3708817d95d4bc8ca6f6?cid=774b29d4f13844c495f206cafdad9c86","track_number":14,"type":"track","uri":"spotify:track:2iRVtq5rnNQ6E20ljfyDCY"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":211000,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/4YKbb6ie3RBJmRHRSO9oiA"},"href":"https://api.spotify.com/v1/tracks/4YKbb6ie3RBJmRHRSO9oiA","id":"4YKbb6ie3RBJmRHRSO9oiA","is_local":false,"name":"Caress Me Down","preview_url":"https://p.scdn.co/mp3-preview/e6218b9d973ca08e18abd95fcb11ba1cdde7ed34?cid=774b29d4f13844c495f206cafdad9c86","track_number":15,"type":"track","uri":"spotify:track:4YKbb6ie3RBJmRHRSO9oiA"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":181750,"explicit":true,"external_urls":{"spotify":"https://open.spotify.com/track/7czpya5MZXGBVo2Z18TyFd"},"href":"https://api.spotify.com/v1/tracks/7czpya5MZXGBVo2Z18TyFd","id":"7czpya5MZXGBVo2Z18TyFd","is_local":false,"name":"What I Got","preview_url":"https://p.scdn.co/mp3-preview/d2edbcda2d5573a9e5e40591cc72e8ac93a364e8?cid=774b29d4f13844c495f206cafdad9c86","track_number":16,"type":"track","uri":"spotify:track:7czpya5MZXGBVo2Z18TyFd"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":1,"duration_ms":253333,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/0Ylaocf86J0PZAhjAP8wzl"},"href":"https://api.spotify.com/v1/tracks/0Ylaocf86J0PZAhjAP8wzl","id":"0Ylaocf86J0PZAhjAP8wzl","is_local":false,"name":"Doin Time","preview_url":"https://p.scdn.co/mp3-preview/74c4413587d1b4018d83530c84bc3091349a71e9?cid=774b29d4f13844c495f206cafdad9c86","track_number":17,"type":"track","uri":"spotify:track:0Ylaocf86J0PZAhjAP8wzl"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"},{"external_urls":{"spotify":"https://open.spotify.com/artist/3xpJzqE3evjd4GzQ9pcHNr"},"href":"https://api.spotify.com/v1/artists/3xpJzqE3evjd4GzQ9pcHNr","id":"3xpJzqE3evjd4GzQ9pcHNr","name":"Mad Lion","type":"artist","uri":"spotify:artist:3xpJzqE3evjd4GzQ9pcHNr"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":2,"duration_ms":316600,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/3ImkwJkb7RX4yh8Fpz6pN9"},"href":"https://api.spotify.com/v1/tracks/3ImkwJkb7RX4yh8Fpz6pN9","id":"3ImkwJkb7RX4yh8Fpz6pN9","is_local":false,"name":"Doin Time","preview_url":"https://p.scdn.co/mp3-preview/57bffa5d39723ef3ea1018b1fe36c346a4a062f7?cid=774b29d4f13844c495f206cafdad9c86","track_number":1,"type":"track","uri":"spotify:track:3ImkwJkb7RX4yh8Fpz6pN9"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":2,"duration_ms":215893,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/1GcT1n4CCo0Mqcyu7fjOM5"},"href":"https://api.spotify.com/v1/tracks/1GcT1n4CCo0Mqcyu7fjOM5","id":"1GcT1n4CCo0Mqcyu7fjOM5","is_local":false,"name":"Date Rape","preview_url":"https://p.scdn.co/mp3-preview/616aad8b3b3c28917b5c914a94c332e1e3f3ca94?cid=774b29d4f13844c495f206cafdad9c86","track_number":2,"type":"track","uri":"spotify:track:1GcT1n4CCo0Mqcyu7fjOM5"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":2,"duration_ms":165760,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/0nSr5i9ewbdFNxUuEgHeq9"},"href":"https://api.spotify.com/v1/tracks/0nSr5i9ewbdFNxUuEgHeq9","id":"0nSr5i9ewbdFNxUuEgHeq9","is_local":false,"name":"All You Need","preview_url":"https://p.scdn.co/mp3-preview/80700f3ffbfc548af86cf4f2251396566079502d?cid=774b29d4f13844c495f206cafdad9c86","track_number":3,"type":"track","uri":"spotify:track:0nSr5i9ewbdFNxUuEgHeq9"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":2,"duration_ms":142306,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/3C7xBXgoZjguCYbU2gvA8H"},"href":"https://api.spotify.com/v1/tracks/3C7xBXgoZjguCYbU2gvA8H","id":"3C7xBXgoZjguCYbU2gvA8H","is_local":false,"name":"Lincoln Highway Dub","preview_url":"https://p.scdn.co/mp3-preview/6fede9482cea0a60e10b49336f44e3923b30aef4?cid=774b29d4f13844c495f206cafdad9c86","track_number":4,"type":"track","uri":"spotify:track:3C7xBXgoZjguCYbU2gvA8H"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":2,"duration_ms":146706,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/4G0Lyn6r56fXpU4nMbBMLx"},"href":"https://api.spotify.com/v1/tracks/4G0Lyn6r56fXpU4nMbBMLx","id":"4G0Lyn6r56fXpU4nMbBMLx","is_local":false,"name":"Rivers Of Babylon","preview_url":"https://p.scdn.co/mp3-preview/d24b829c704eed4c520821374db140f88f1b4c9c?cid=774b29d4f13844c495f206cafdad9c86","track_number":5,"type":"track","uri":"spotify:track:4G0Lyn6r56fXpU4nMbBMLx"},{"artists":[{"external_urls":{"spotify":"https://open.spotify.com/artist/0EdvGhlC1FkGItLOWQzG4J"},"href":"https://api.spotify.com/v1/artists/0EdvGhlC1FkGItLOWQzG4J","id":"0EdvGhlC1FkGItLOWQzG4J","name":"Sublime","type":"artist","uri":"spotify:artist:0EdvGhlC1FkGItLOWQzG4J"}],"available_markets":["AD","AR","AT","AU","BE","BG","BO","BR","CA","CH","CL","CO","CR","CY","CZ","DE","DK","DO","EC","EE","ES","FI","FR","GB","GR","GT","HK","HN","HU","ID","IE","IL","IS","IT","JP","LI","LT","LU","LV","MC","MT","MX","MY","NI","NL","NO","NZ","PA","PE","PH","PL","PT","PY","RO","SE","SG","SK","SV","TH","TR","TW","US","UY","VN","ZA"],"disc_number":2,"duration_ms":160733,"explicit":false,"external_urls":{"spotify":"https://open.spotify.com/track/6n2DqMvXZpYfji4dOguaXx"},"href":"https://api.spotify.com/v1/tracks/6n2DqMvXZpYfji4dOguaXx","id":"6n2DqMvXZpYfji4dOguaXx","is_local":false,"name":"What I Got","preview_url":"https://p.scdn.co/mp3-preview/194b207dddd63356e8fe0d4708f327fb79534cb5?cid=774b29d4f13844c495f206cafdad9c86","track_number":6,"type":"track","uri":"spotify:track:6n2DqMvXZpYfji4dOguaXx"}],"limit":50,"next":null,"offset":0,"previous":null,"total":23},"type":"album","uri":"spotify:album:4R3tXoorBpHji6Jdms8a4Q"}';
export default class AlbumFlatList extends BobFlatList {
  constructor(props) {
    super(props);
    
  }

  makeRemoteRequest = async () => {
    const albumId = this.props.albumId;

    this.setState({ loading: true });

    let album = JSON.parse(mock_album_json); //await api.album(code, albumId);

    let tracks = []

    for(let i = 0; i < album.tracks.items.length; i++) {
      let track = album.tracks.items[i];
      let artists = [];

      for(let j = 0; j < track.artists.length; j++) {
        artists.push(track.artists[j].name);
      }
      let artistName = artists.join(' and ');
      tracks.push({
        artist: artistName,
        name: track.name,
        uri: track.uri
      });
    }

    this.setState({
      data: tracks,
      loading: false,
      refreshing: false
    });
  };

  renderSeparator = () => {
    return (
      <View
        style={styles.separatorStyle}
      />
    );
  };

  renderItem = ( {item, index} ) => {
    return (
      <TouchableHighlight onPress={() => this.play(item.uri)}>
      <View style={{flex:1, width :'100%', flexDirection: 'row', alignContent:'space-between'}}>
        <Image source={{uri: item.url}} style={{width:50, height:50}}/>
        <View style={{flex:1, width :'100%', flexDirection: 'column', justifyContent:'space-around', paddingLeft:5}}>
          <Text style={styles.albumText}>{item.name} </Text>
          <Text style={styles.artistText}>{item.artist} </Text>
        </View>
        <Image source={require('./Resources/ICONS/PLAY.png')} style={styles.titleImage} />
      </View>
      </TouchableHighlight>
    );
    }

    play = (name: string) => {
      const code = this.props.code;
    };
}

const styles = StyleSheet.create({
  titleImage: {
    width: 20,
    height: (648 / 550) * 20,
    marginRight:20
  },
  artistText: {
    color: 'white',
    fontFamily: 'Myriad Pro Regular',
    fontSize: 12
  },
  albumText: {
    color: 'white',
    fontFamily: 'Myriad Pro Bold',
    fontSize: 12
  },
  separatorStyle: {
    height: 15,
    width: "86%",
    backgroundColor: "transparent",
    marginLeft: "14%"
  }
});